<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <meta name="description" content="Add your meta description here" />
    <meta name="keywords" content="Add your meta keywords here" />
    <!-- Rest of the code -->
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
          crossorigin="anonymous" />
    <title>BODS Accessibility Results</title>
  </head>
  <body class="bg-light">
    <div class="p-5">
      <h1>BODS Accessibility Results {{#projectKey}} for {{ projectKey }} project{{/projectKey}}</h1>
      <div class="summarySection">
        {{#url}}
        <a href="{{ url }}" target="_blank" class="card-link">{{ url }}</a>
      {{/url}}
      {{#customSummary}}
      <div class="summary">{{{ customSummary }}}</div>
    {{/customSummary}}
  </div>
  <h5>{{{ violationsSummary }}}</h5>
  <table class="table table-striped table-bordered">
    {{#violationsSummary}}
    <thead>
      <tr>
        <th>#</th>
        <th>Description</th>
        <th>Axe rule ID</th>
        <th>WCAG</th>
        <th>Impact</th>
        <th>Count</th>
      </tr>
    </thead>
  {{/violationsSummary}}
  <tbody>
    {{#violations}}
    <tr>
      <th scope="row border">
        <a href="#{{ index }}" class="card-link">{{ index }}</a>
      </th>
      <td>{{ help }}</td>
      <td>{{ id }}</td>
      <td>{{ wcag }}</td>
      <td>{{ impact }}</td>
      <td>{{ nodes }}</td>
    </tr>
  {{/violations}}
</tbody>
</table>
{{#violationDetails}}
<div class="card my-3">
  <div class="card-header">
    <h4 class="d-flex flex-row justify-content-between">
      <a href="{{path}}" target="_blank">{{path}}</a>
      <span class="text-danger">Failed</span>
    </h4>
  </div>
  <div class="card-body">
    <div class="d-flex flex-row justify-content-between">
      <h5>
        <a id="{{ index }}">{{ index }}.{{ help }}</a>
      </h5>
      <a href="{{ helpUrl }}" target="_blank" class="card-link learnMore">Learn more</a>
    </div>
    <div class="d-flex flex-row justify-content-between">
      <h6 class="card-subtitle text-muted">{{ id }}</h6>
      <h6 class="card-subtitle text-muted ">{{ wcag }}</h6>
    </div>
    <div class="d-flex flex-row justify-content-between">
      <p class="card-text">{{ description }}</p>
      <h6 class="card-subtitle text-muted ">{{ impact }}</h6>
    </div>
    <div class="d-flex flex-row justify-content-between">
      <h6 class="card-subtitle text-muted">
        Issue Tags:
        {{#tags}}
        <span class="badge bg-primary text-light">{{.}}</span>
      {{/tags}}
    </h6>
  </div>
  <div class="violationNode">
    <table class="table table-sm table-bordered">
      <thead>
        <tr>
          <th>#</th>
          <th>Issue Description</th>
          <th>To solve this violation, you need to...</th>
        </tr>
      </thead>
      <tbody>
        {{#nodes}}
        <tr>
          <td>{{ index }}</td>
          <td>
            <p>
              <strong>Element location</strong>
            </p>
            <pre class="border rounded bg-dark text-light p-3"><code class="css text-wrap">{{targetNodes}}</code></pre>
            <p>
              <strong>Element source</strong>
            </p>
            <pre class="border rounded bg-dark text-light p-3"><code class="html text-wrap">{{html}}</code></pre>
          </td>
          <td>
            {{#fixSummaries}}
            <div class="text-break">
              <strong>{{ highlight }}</strong>
              <ul class="text-muted">
                {{#list}}
                <li>{{.}}</li>
              {{/list}}
            </ul>
          </div>
        {{/fixSummaries}}
        {{#relatedNodesAny}}
        <p>
          <strong>Related node:</strong>
        </p>
        <pre class="border rounded bg-dark text-light p-3"><code class="css text-wrap">{{.}}</code></pre>
      {{/relatedNodesAny}}
    </td>
  </tr>
{{/nodes}}
</tbody>
</table>
</div>
</div>
</div>
{{/violationDetails}}
{{#hasPassed}}
<div id="accordionPasses">
  <div class="card">
    <div class="card-header" id="headingOne">
      <h5 class="mb-0">
        <button class="btn btn-link" data-toggle="collapse" data-target="#passes" aria-expanded="false" aria-controls="passes">
          axe returned {{ checksPassed.length }} passed axe
          checks{{#checksPassed.length}}. Expand details on
          click{{/checksPassed.length}}
        </button>
      </h5>
    </div>
    <div id="passes" class="collapse" aria-labelledby="headingOne" data-parent="#accordionPasses">
      <div class="card-body">
        {{#checksPassed}}
        <table class="table table-bordered">
          <thead>
            <tr>
              <th>#</th>
              <th>Description</th>
              <th>Axe rule ID</th>
              <th>WCAG</th>
              <th>Nodes passed check</th>
            </tr>
          </thead>
          <tbody>
            {{#checksPassed}}
            <tr>
              <th scope="row">{{ index }}</th>
              <td>{{ help }}</td>
              <td>{{ id }}</td>
              <td>{{ wcag }}</td>
              <td>{{ nodes }}</td>
            </tr>
          </tbody>
        {{/checksPassed}}
      </table>
    {{/checksPassed}}
  </div>
</div>
</div>
</div>
{{/hasPassed}}
{{#hasIncomplete}}
<div id="accordionIncomplete">
  <div class="card">
    <div class="card-header" id="headingTwo">
      <h5 class="mb-0">
        <button class="btn btn-link" data-toggle="collapse" data-target="#incomplete" aria-expanded="false" aria-controls="incomplete">
          axe returned {{ checksIncomplete.length }} incomplete checks. Expand
          details on click
        </button>
      </h5>
    </div>
    <div id="incomplete" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionIncomplete">
      <div class="card-body">
        <p>
          <em>What 'incomplete' axe checks means?</em>
        </p>
        <p>
          Incomplete results were aborted and require further testing. This
          can happen either because of technical restrictions to what the rule
          can test, or because a javascript error occurred.
        </p>
        <p>
          <a href="https://www.deque.com/axe/core-documentation/api-documentation/#results-object">Visit axe API Documentation</a>
          to learn more.
        </p>
        {{#checksIncomplete}}
        <table class="table table-bordered">
          <thead>
            <tr>
              <th>#</th>
              <th>Description</th>
              <th>Axe rule ID</th>
              <th>WCAG</th>
              <th>Nodes with incomplete check</th>
            </tr>
          </thead>
          <tbody>
            {{#checksIncomplete}}
            <tr>
              <th scope="row">{{ index }}</th>
              <td>{{ help }}</td>
              <td>{{ id }}</td>
              <td>{{ wcag }}</td>
              <td>{{ nodes }}</td>
            </tr>
          </tbody>
        {{/checksIncomplete}}
      </table>
    {{/checksIncomplete}}
  </div>
</div>
</div>
</div>
{{/hasIncomplete}}
{{#hasInapplicable}}
<div id="accordionInapplicable">
  <div class="card">
    <div class="card-header" id="headingThree">
      <h5 class="mb-0">
        <button class="btn btn-link"
                data-toggle="collapse"
                data-target="#inapplicable"
                aria-expanded="false"
                aria-controls="inapplicable">
          axe returned {{ checksInapplicable.length }} inapplicable checks.
          Expand details on click
        </button>
      </h5>
    </div>
    <div id="inapplicable" class="collapse" aria-labelledby="headingThree" data-parent="#accordionInapplicable">
      <div class="card-body">
        <p>
          <em>What 'inapplicable' axe checks means?</em>
        </p>
        <p>
          The inapplicable array lists all the rules for which no matching
          elements were found on the page.
        </p>
        <p>
          <a href="https://www.deque.com/axe/core-documentation/api-documentation/#results-object">Visit axe API Documentation</a>
          to learn more.
        </p>
        {{#checksInapplicable}}
        <table class="table table-bordered">
          <thead>
            <tr>
              <th>#</th>
              <th>Description</th>
              <th >Axe rule ID</th>
              <th>WCAG</th>
            </tr>
          </thead>
          <tbody>
            {{#checksInapplicable}}
            <tr>
              <th scope="row">{{ index }}</th>
              <td>{{ help }}</td>
              <td>{{ id }}</td>
              <td>{{ wcag }}</td>
            </tr>
          </tbody>
        {{/checksInapplicable}}
      </table>
    {{/checksInapplicable}}
  </div>
</div>
</div>
</div>
{{/hasInapplicable}}
{{#hasAxeRawResults}}
<div id="rulesSection">
  <div class="card">
    <div class="card-header" id="ruleSection">
      <h5 class="mb-0">
        <button class="btn btn-link" data-toggle="collapse" data-target="#rules" aria-expanded="false" aria-controls="inapplicable">
          axe was running with {{ rules.length }} rules. Expand details on click
        </button>
      </h5>
    </div>
    <div id="rules" class="collapse" aria-labelledby="ruleSection" data-parent="#rules">
      <div class="card-body">
        {{#rules.length}}
        <table class="table table-bordered">
          <thead>
            <tr>
              <th style="width: 5%">#</th>
              <th style="width: 50%">Rule ID</th>
              <th style="width: 45%">Enabled</th>
            </tr>
          </thead>
          <tbody>
            {{#rules}}
            <tr>
              <th scope="row">{{ index }}</th>
              <td>{{ rule }}</td>
              <td>{{ enabled }}</td>
            </tr>
          </tbody>
        {{/rules}}
      </table>
    {{/rules.length}}
  </div>
</div>
</div>
</div>
{{/hasAxeRawResults}}
</div>
</body>
</html>
